<div class="min-h-screen bg-gray-50 py-8 px-4">
  <div class="max-w-md mx-auto">
    <h1 class="text-3xl font-bold text-center text-gray-800 mb-8">Sudoku</h1>

    @if (isLoading()) {
      <div class="text-center text-gray-600">Loading puzzle...</div>
    } @else if (error()) {
      <div class="text-center text-red-600 mb-4">{{ error() }}</div>
      <button
        class="w-full py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700"
        (click)="backToMenu()"
      >
        Back to Menu
      </button>
    } @else if (!gameStarted()) {
      <div class="flex flex-col gap-4">
        <p class="text-center text-gray-600 mb-4">Select difficulty to start:</p>
        @for (difficulty of difficulties; track difficulty) {
          <button
            class="w-full py-3 text-lg font-medium rounded-lg transition-colors"
            [class]="difficulty === 'easy' ? 'bg-green-500 hover:bg-green-600 text-white' :
                     difficulty === 'medium' ? 'bg-yellow-500 hover:bg-yellow-600 text-white' :
                     difficulty === 'hard' ? 'bg-red-500 hover:bg-red-600 text-white' :
                     'bg-purple-500 hover:bg-purple-600 text-white'"
            (click)="startGame(difficulty)"
          >
            {{ difficulty | titlecase }}
          </button>
        }
      </div>
    } @else {
      <div
        class="text-center mb-4 py-2 px-4 rounded-lg font-medium"
        [class]="selectedDifficulty() === 'easy' ? 'bg-green-100 text-green-800' :
                 selectedDifficulty() === 'medium' ? 'bg-yellow-100 text-yellow-800' :
                 selectedDifficulty() === 'hard' ? 'bg-red-100 text-red-800' :
                 'bg-purple-100 text-purple-800'"
      >
        {{ selectedDifficulty() | titlecase }}
      </div>
      <app-board
        [board]="board()"
        [(selectedCell)]="selectedCell"
      />

      <p class="text-center text-gray-500 text-sm mt-4">
        Arrow keys or WASD to navigate, 1-9 to enter, Backspace to clear
      </p>

      <button
        class="w-full mt-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700"
        (click)="backToMenu()"
      >
        New Game
      </button>
    }
  </div>
</div>
